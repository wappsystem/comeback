<div id=D__ID>
    <div id=page__ID>
        <div id="slideshow">
            <ul class="slides">
                <li><img src="m/images/slider1.png" width="433" height="433" alt="Image 1" /></li>
                <li><img src="m/images/slider2.png" width="433" height="433" alt="Image 2" /></li>
                <li><img src="m/images/slider3.png" width="433" height="433" alt="Image 3" /></li>
                <li><img src="m/images/slider4.png" width="433" height="433" alt="Image 4" /></li>
                <li><img src="m/images/slider5.png" width="433" height="433" alt="Image 4" /></li>
            </ul>
            <img class="arrow previous" widht=150px; height=150px;></img>
            <img class="arrow next" widht=150px; height=150px;></img>
        </div>
    </div>
    <script>
        function F__ID() {
            $('#D__ID').on('load', function () {
                var slides = $('#slideshow li'),
                    current = 0,
                    slideshow = { width: 0, height: 0 };
                    $('.previous').attr('src','m/images/slider5.png');
                    $('.next').attr('src','m/images/slider2.png');

                setTimeout(function () {
                    $('#slideshow img').each(function () {
                        if (!slideshow.width) {
                            // Saving the dimensions of the first image:
                            slideshow.width = this.width;
                            slideshow.height = this.height;
                        }
                        // Rendering the modified versions of the images:
                        console.log(1)
                        createCanvasOverlay(this);
                    });
                    $('#slideshow .arrow').click(function () {
                        var li = slides.eq(current),
                            canvas = li.find('canvas'),
                            nextIndex = 0;
                        // Depending on whether this is the next or previous
                        // arrow, calculate the index of the next slide accordingly.
                        if ($(this).hasClass('next')) {
                            nextIndex = current >= slides.length - 1 ? 0 : current + 1;
                        }
                        else {
                            nextIndex = current <= 0 ? slides.length - 1 : current - 1;
                        }
                        var next = slides.eq(nextIndex);
                        var indexArrowL=nextIndex-1;
                        var indexArrowR=nextIndex+1;
                        console.log(nextIndex)
                        if(indexArrowL==-1){indexArrowL=4;}
                        if(indexArrowR==5){indexArrowR=0}
                        $('.previous').attr('src',"m/images/slider"+(indexArrowL+1)+".png");
                        $('.next').attr('src',"m/images/slider"+(indexArrowR+1)+".png");
                        // This browser supports canvas, fade it into view:
                        canvas.fadeIn(function () {
                            // Show the next slide below the current one:
                            next.show();
                            current = nextIndex;
                            // Fade the current slide out of view:
                            li.fadeOut(function () {
                                li.removeClass('slideActive');
                                canvas.hide();
                                next.addClass('slideActive');
                            });
                        });
                    });
                }, 100);
                function createCanvasOverlay(image) {
                    var canvas = document.createElement('canvas'),
                        canvasContext = canvas.getContext("2d");
                    // Make it the same size as the image
                    canvas.width = slideshow.width;
                    canvas.height = slideshow.height;
                    // Drawing the default version of the image on the canvas:
                    canvasContext.drawImage(image, 0, 0);
                    // Taking the image data and storing it in the imageData array:
                    var imageData = canvasContext.getImageData(0, 0, canvas.width, canvas.height),
                        data = imageData.data;
                    // Loop through all the pixels in the imageData array, and modify
                    // the red, green, and blue color values.
                    for (var i = 0, z = data.length; i < z; i++) {
                        // The values for red, green and blue are consecutive elements
                        // in the imageData array. We modify the three of them at once:
                        data[i] = ((data[i] < 128) ? (2 * data[i] * data[i] / 255) :
                            (255 - 2 * (255 - data[i]) * (255 - data[i]) / 255));
                        data[++i] = ((data[i] < 128) ? (2 * data[i] * data[i] / 255) :
                            (255 - 2 * (255 - data[i]) * (255 - data[i]) / 255));
                        data[++i] = ((data[i] < 128) ? (2 * data[i] * data[i] / 255) :
                            (255 - 2 * (255 - data[i]) * (255 - data[i]) / 255));
                        // After the RGB channels comes the alpha value, which we leave the same.
                        ++i;
                    }
                    // Putting the modified imageData back on the canvas.
                    canvasContext.putImageData(imageData, 0, 0, 0, 0, imageData.width, imageData.height);
                    // Inserting the canvas in the DOM, before the image:
                    image.parentNode.insertBefore(canvas, image);
                }
            });
        }     
    </script>
    <style>
        #D__ID {
            height: 100%;
            animation: vm_module_fadein 1.0s;
            background-color: #fff;
        }

        /*        #page__ID{
            max-width:1000px;
            margin-left:auto;
            margin-right:auto;
            overflow-x: hidden;
            padding-top:50px;'
        }
        */
        #slideshow {
            background-color: #F5F5F5;
            border: 1px solid #FFFFFF;
            height: 440px;
            margin: 150px auto 0;
            position: relative;
            width: 740px;

            -moz-box-shadow: 0 0 22px #111;
            -webkit-box-shadow: 0 0 22px #111;
            box-shadow: 0 0 22px #111;
        }

        #slideshow ul {
            height: 420px;
            left: 112px;
            list-style: none outside none;
            overflow: hidden;
            position: absolute;
            top: 10px;
            width: 520px;
        }

        #slideshow li {
            position: absolute;
            display: none;
            z-index: 10;
        }

        #slideshow li:first-child {
            display: block;
            z-index: 1000;
        }

        #slideshow .slideActive {
            z-index: 1000;
        }

        #slideshow canvas {
            display: none;
            position: absolute;
            z-index: 100;
        }

        #slideshow .arrow {
            height: 150px;
            width: 150px;
            position: absolute;
            /*background: url('m/images/slider2.png') no-repeat;*/
            top: 50%;
            margin-top: -43px;
            cursor: pointer;
            z-index: 5000;
        }

        #slideshow .previous {
            background-position: left top;
            left: 0;
        }

        #slideshow .previous:hover {
            background-position: left bottom;
        }

        #slideshow .next {
            background-position: right top;
            right: 0;
        }

        #slideshow .next:hover {
            background-position: right bottom;
        }
    </style>
</div>